# 前端規格（Front-end Spec）

> **技術實作參考**：詳細的 Telegram API 規格、webhook 設定、訊息範本請參閱 [spec.md](./spec.md)

## 1. 流程與互動

### 訂閱確認流程

用戶與 Bot 的完整互動流程：

1. **開始互動**：用戶發送 `/start` 或「開始」給 Bot
2. **查看狀態**：Bot 回覆目前訂閱狀態與可用指令
3. **發起訂閱**：用戶發送「訂閱」或 `/subscribe`
4. **Token 確認**：Bot 回覆確認 token，提示用戶輸入「確認 <token>」
5. **完成訂閱**：用戶輸入「確認 <token>」後，Bot 回覆訂閱啟用
6. **管理訂閱**：用戶可隨時輸入「退訂」或 `/unsubscribe` 取消訂閱
7. **查詢狀態**：用戶可輸入「狀態」或 `/status` 查詢目前狀態

### 群組互動特殊規則

- 群組內僅接受管理員指令，Bot 需驗證管理員身份
- 群組訂閱流程與私聊相同，但所有指令需由管理員發出
- 詳細關鍵字處理與 Token 驗證邏輯請參閱 [spec.md - 訂閱與確認流程](./spec.md#7-訂閱與確認流程)

## 2. 訊息設計與 UX

### 介面原則

- 所有互動皆以 Telegram Bot 訊息為主，無額外網頁介面
- Bot 訊息需簡潔明確，指令與回覆皆以繁體中文為主
- 訂閱流程需明確提示每一步，避免誤操作
- 失敗或錯誤時，Bot 需回覆原因與後續指引

### 標準訊息範本

**設計原則**：

- Bot 訊息需簡潔明確，提供清楚的操作指引
- 所有系統回應皆以繁體中文為主
- 錯誤或失敗時需提供原因與後續指引

**主要回應類型**：

- 訂閱流程回應：引導用戶完成確認
- 狀態查詢回應：顯示目前訂閱狀態與設定
- 推播訊息：新聞內容的格式化顯示

詳細訊息範本與格式請參閱 [spec.md - 訊息範本](./spec.md#73-訊息範本確認用與互動回應) 與 [spec.md - Telegram 訊息格式](./spec.md#9-telegram-訊息格式)

### 時間格式與顯示

- 所有日期顯示皆為 YYYY-MM-DD（Asia/Taipei 時區）
- 推播時間、確認時間等皆依台灣時區顯示
- 詳細時區處理邏輯請參閱 [spec.md - 時區與日期](./spec.md#3-時區與日期)

## 3. 使用者體驗

### UX 設計原則

- 訂閱流程需明確提示每一步，避免誤操作
- 失敗或錯誤時，Bot 需回覆原因與後續指引
- 支援多用戶、多群組同時互動
- Token 確認有時效性（10 分鐘），逾期需重新申請

### 互動限制與考量

- 所有互動皆需考慮 Telegram API 速率限制，避免訊息延遲或失敗
- Bot 需支援繁體中文訊息與指令
- 群組管理員身份驗證，防止非授權訂閱

詳細人機互動範例請參閱 [spec.md - 人機互動流程](./spec.md#75-人機互動流程範例)
